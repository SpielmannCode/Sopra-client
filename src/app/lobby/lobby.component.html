<app-navigation></app-navigation>
<div id="lobby" class="row bg-white">
  <div class="col-md-5">
    <table class="table selectable">
      <tr>
        <th>Status</th>
        <th>Game Name</th>
        <th>Players</th>
      </tr>
      <tr *ngFor="let game of games" (click)="selectGame(game)">
        <td>{{game.status}}</td>
        <td>{{game.name}}</td>
        <td>{{game.players.length}}/{{game.playerCountSetting}}</td>
      </tr>
    </table>
  </div>
  <div class="col-md-4">
    <div id="join-game">
      <h3 *ngIf="selectedGame">{{selectedGame.name}}</h3>
      <h3 *ngIf="!selectedGame">No Game Selected</h3>
      <button class="btn-basic center full-width" (click)="addPlayer(selectedGame)">Join Game</button>
    </div>
    <div id="game-settings">
      <h3>Settings</h3>

      <form [formGroup]="createGameForm" (submit)="createGame()">

        <label for="name">Game Name</label>
        <input id="name" name="name" formControlName="name" type="text">

        <br>
        <input id="2-players" formControlName="playerCountSetting" name="playerCountSetting" type="radio" value="2">
        <label for="2-players"> 2 Players &nbsp;</label>
        <input id="3-players" formControlName="playerCountSetting" name="playerCountSetting" type="radio" value="3">
        <label for="3-players"> 3 Players&nbsp; </label>
        <input id="4-players" formControlName="playerCountSetting" name="playerCountSetting" type="radio" value="4">
        <label for="4-players"> 4 Players&nbsp; </label>
        <button class="btn-basic center full-width">Save Settings</button>
      </form>
    </div>
    <div id="current-game">
      <h3>Start Game</h3>
      <table *ngIf="selectedGame" class="table">
        <tr>
          <th>Players</th>
        </tr>
        <tr *ngFor="let player of selectedGame.players">
          <td>{{player.name}}</td>
        </tr>
      </table>
    </div>
  </div>
  <div class="col-md-3">
    <table class="table">
      <tr>
        <th>People In Lobby</th>
      </tr>
      <tr *ngFor="let user of users">
        <td>{{user.name}} {{user.username}}</td>
      </tr>
    </table>
  </div>
</div>
