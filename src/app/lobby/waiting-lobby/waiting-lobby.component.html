<div id="main">
<div id="waiting-lobby" class="bg-white center" *ngIf="selectedGame && gameId">
  <h3>Players in Game: {{selectedGame.name}} ({{selectedGame.players.length}}/{{selectedGame.playerCountSetting}})</h3>
  <h4 *ngIf="selectedGame.players.length < selectedGame.playerCountSetting">Waiting for more players...</h4>
  <table class="table">
    <tr>
      <th>Player Name</th>
      <th>Ready?</th>
    </tr>
    <tr *ngFor="let player of selectedGame.players; let i = index;">
      <td>{{player.name}} {{player.username}}</td>
      <td>
        <label *ngIf="isCurrentPlayer(i)" class="switch">
          <input type="checkbox" (click)="setPlayerReady()" [checked]="player.readyToPlay">
          <div class="slider round"></div>
        </label>
        <div *ngIf="!isCurrentPlayer(i) && player.readyToPlay" id="ReadyCircle"></div>
        <div *ngIf="!isCurrentPlayer(i) && !player.readyToPlay" id="NotReadyCircle"></div>
      </td>
    </tr>
  </table>

  <button class="btn-basic center" (click)="leaveGameModal.open()">Leave Game</button>
  <modal #leaveGameModal>
    <modal-content>
      <div class="center" style="max-width: 150px">
        <p>Are you sure?</p>
        <button class="btn-basic inline" (click)="removePlayer(selectedGame)">Yes</button>
        <button class="btn-basic inline" (click)="leaveGameModal.close()">No</button>
      </div>
    </modal-content>
  </modal>
</div>
</div>
