<div id="whole">
  <app-header></app-header>
  <button *ngIf="!Music.muted" class="btn-basic" (click)="toggleAudio()" style="position: absolute; top: -800px; left:0px; z-index: 30; font-size: 12px "><img src="/assets/Images/icons/speakerfull.png" style="width: 12px"></button>
  <button *ngIf="Music.muted"  class="btn-basic" (click)="toggleAudio()" style="position: absolute; top: -800px; left:0px; z-index: 30; font-size: 12px "><img src="/assets/Images/icons/speaker.png" style="width: 12px"></button>
  <app-playingfield [game]="game" [timerPercentage]="timerPercentage"></app-playingfield>
  <app-statsboard [game]="game"></app-statsboard>
  <ng2-toasty class="text-center center bg-white"></ng2-toasty>
  <div id="historyBtn">
  <button id="history" class="btn-basic inline text-center position1" (click)="toggleSidebar()"
          tooltip="Show game history"
          [tooltipDisabled]="false"
          [tooltipAnimation]="true"
          tooltipPlacement="bottom">
    <img src="/assets/Images/icons/ic_history_black_24px.svg" alt="History Log" height="70px" >
  </button>
  </div>
  <ng-sidebar-container id="sideBar" style="z-index: 40">
    <ng-sidebar #sidebar [(opened)]="_opened" style="z-index: 40" [closeOnClickOutside]="true">
      <app-history-log [game]="game">
      </app-history-log>
    </ng-sidebar>
  </ng-sidebar-container>
</div>

<modal #rankingModal
       [hideCloseButton]="true"
       [closeOnEscape]="false"
       [closeOnOutsideClick]="false">
  <modal-header>
    <div class=" text-center">
      <h1 id="header1">Final Ranking</h1>
    </div>
</modal-header>
  <modal-content>
    <table *ngIf="game && game.playerCountSetting === 4" class="table ">
      <tr id="r1">
        <th>Rank 1:</th>
        <th>{{rank1}}</th>
        <th><img src="/assets/Images/icons/medal21600.png"alt="Medal" height="24px"></th>
      </tr>
      <tr id="r2">
        <td>Rank 2:</td>
        <td>{{rank2}}</td>
        <td></td>
      </tr>
      <tr id="r3" >
        <td>Rank 3:</td>
        <td>{{rank3}}</td>
        <td></td>
      </tr>
      <tr id="r4" >
        <td>Rank 4:</td>
        <td>{{rank4}}</td>
        <td></td>
      </tr>
    </table>
    <table *ngIf="game && game.playerCountSetting === 3" class="table ">
      <tr id="r1">
        <th>Rank 1:</th>
        <th>{{rank1}}</th>
        <th><img src="/assets/Images/icons/medal21600.png"alt="Medal" height="24px"></th>
      </tr>
      <tr id="r2">
        <td>Rank 2:</td>
        <td>{{rank2}}</td>
        <td></td>
      </tr>
      <tr id="r3" >
        <td>Rank 3:</td>
        <td>{{rank3}}</td>
        <td></td>
      </tr>
    </table>
    <table *ngIf="game && game.playerCountSetting === 2" class="table ">
      <tr id="r1">
        <th>Rank 1:</th>
        <th>{{rank1}}</th>
        <th><img src="/assets/Images/icons/medal21600.png"alt="Medal" height="24px"></th>
      </tr>
      <tr id="r2">
        <td>Rank 2:</td>
        <td>{{rank2}}</td>
        <td></td>
      </tr>
    </table>
  </modal-content>
  <modal-footer>
    <div class="text-center">
      <a class="btn-basic inline" (click)="leaveGame()">Leave</a>
    </div>
  </modal-footer>
</modal>

